# 接口文档

## 账户相关

* 注册 /index/accounts/signup

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |avatar|file|是|png、jpg、jpeg、bmp类型；文件最大 30k(30720)|用户头像|
  |nickname|string|是|2~16 字；只能由汉字、字母、数字和下划线 _ 及破折号 - 组成；不与系统中其他用户名重复|用户名|
  |passwd|string|是|6~16 位；只能由字母、数字、下划线 _ 、破折号 - 组成|密码|
  |repasswd|string|是|同 passwd|passwd 的确认字段|
  |name|string|是|2~16 字；只能由汉字、字母、数字和下划线 _ 及破折号 - 组成|姓名|
  |phone|string \| integer|是|11位手机号，禁用虚拟手机号|手机号|
  |position|string|是|2~20 字；只能由字母、数字、下划线 _ 、破折号 - 组成|职务|
  |email|string|是|最大 254 字|邮箱|

* 登录(post) /index/accounts/signin

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |nickname|string|是|2~16 字；只能由汉字、字母、数字和下划线 _ 及破折号 - 组成|用户名|
  |passwd|string|是|6~16 位；只能由字母、数字、下划线 _ 、破折号 - 组成|密码|
  |captcha_code|string|是|5 位；只能为字母和数字组成|验证码|
  |captcha_id|string|是|由获取验证码接口返回的字符串|验证码id|

  * 返回值示例:

* 用户列表(post) /index/accounts/list

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |page|integer|否|整型参数|页码|

* 用户详情(post) /index/accounts/details

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |id|integer|是|整型参数|用户id|

* 修改用户(post) /index/accounts/modify

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |id|integer|是|整型参数|用户id|
  |name|string|否|2~16 字；只能由汉字、字母、数字和下划线 _ 及破折号 - 组成；不与系统中其他用户名重复|用户名|
  |nickname|string|否|2~16 字；只能由汉字、字母、数字和下划线 _ 及破折号 - 组成|姓名|
  |phone|string \| integer|否|11位手机号，禁用虚拟手机号|手机号|
  |position|string|否|2~20 字；只能由字母、数字、下划线 _ 、破折号 - 组成|职务|
  |email|string|否|最大 254 字|邮箱|

* 审核用户(post) /index/accounts/audit

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |id|integer|是|整型参数|用户id|

* 删除用户(post) /index/accounts/delete

  |参数|类型|是否必须|校验|备注|
  |:--:|:--:|:--:|:--:|:--:|
  |id|integer|是|整型参数|用户id|

## 验证码相关

* 验证码生成(get) /index/captcha/getcaptcha

  > 返回参数示例  

  ```json
  {
    cmd: "Captcha/getcaptcha"
    data: {
      // 验证码id
      id: "f91737..."
      // base64 图像
      picture: "data:image/png;base64,iVBORw..."
    }
    message: "success"
    status: true
  }
  ```
